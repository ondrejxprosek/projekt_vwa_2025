{% extends 'base.html' %}
{% block content %}
<div>
  <h1 class="h1">Dashboard</h1>
  <p class="small-muted">PÅ™ehled systÃ©mu</p>
</div>

<!-- Statistiky -->
<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-top:16px;">
  <div class="card" style="text-align:center;padding:20px;">
    <div class="small-muted">PoloÅ¾ky v nabÃ­dce</div>
    <div style="font-size:32px;font-weight:700;margin-top:8px;color:var(--accent);">{{ total_items }}</div>
  </div>
  
  <div class="card" style="text-align:center;padding:20px;">
    <div class="small-muted">Stoly</div>
    <div style="font-size:32px;font-weight:700;margin-top:8px;color:var(--accent);">{{ total_tables }}</div>
  </div>
  
  <div class="card" style="text-align:center;padding:20px;">
    <div class="small-muted">UÅ¾ivatelÃ©</div>
    <div style="font-size:32px;font-weight:700;margin-top:8px;color:var(--accent);">{{ total_users }}</div>
  </div>
</div>

<!-- TrÅ¾by za datum -->
<div class="card" style="margin-top:20px;padding:20px;">
  <h3 style="margin:0 0 12px 0;">TrÅ¾by za den</h3>
  
  <form method="GET" style="display:flex;gap:8px;align-items:center;margin-bottom:16px;">
    <input 
      type="date" 
      name="date" 
      value="{{ date_filter }}" 
      class="input" 
      style="max-width:200px;"
    >
    <button class="btn" type="submit">Filtrovat</button>
    <a class="btn" href="{{ url_for('index') }}">Dnes</a>
  </form>
  
  <div style="padding:16px;background:linear-gradient(90deg, rgba(124,92,255,0.1), rgba(0,230,168,0.1));border-radius:10px;text-align:center;">
    <div class="small-muted">CelkovÃ¡ trÅ¾ba {{ date_filter }}</div>
    <div style="font-size:36px;font-weight:700;margin-top:8px;color:var(--accent);">
      {{ "%.2f"|format(daily_revenue) }} KÄ
    </div>
  </div>
</div>

<!-- RychlÃ© akce -->
<div style="display:flex;gap:12px;margin-top:20px;flex-wrap:wrap;">
  {% if perms.can_cashier %}
  <a class="btn glow" href="{{ url_for('cashier') }}" style="flex:1;min-width:150px;text-align:center;padding:14px;">
    ğŸ§¾ Pokladna
  </a>
  {% endif %}
  
  {% if perms.can_view_closed_orders %}
  <a class="btn" href="{{ url_for('closed_orders') }}" style="flex:1;min-width:150px;text-align:center;padding:14px;">
    ğŸ“Š UzavÅ™enÃ© ÃºÄty
  </a>
  {% endif %}
  
  {% if perms.can_manage_items %}
  <a class="btn" href="{{ url_for('admin_items') }}" style="flex:1;min-width:150px;text-align:center;padding:14px;">
    ğŸ“¦ PoloÅ¾ky
  </a>
  {% endif %}
</div>

{% endblock %}